[test_runner_lib] Shared libraries missing, running scripts/build_shared_libs.sh...
Building shared libraries in /home/matrillo/apps/scopemux/build/tree-sitter-libs
Converting static libraries to shared libraries...
Created shared libraries:
-rwxrwxr-x 1 matrillo matrillo 3566904 Jul 14 01:26 libtree-sitter-cpp.so
-rwxrwxr-x 1 matrillo matrillo  627536 Jul 14 01:26 libtree-sitter-c.so
-rwxrwxr-x 1 matrillo matrillo  386944 Jul 14 01:26 libtree-sitter-javascript.so
-rwxrwxr-x 1 matrillo matrillo  484368 Jul 14 01:26 libtree-sitter-python.so
-rwxrwxr-x 1 matrillo matrillo  237264 Jul 14 01:26 libtree-sitter.so
-rwxrwxr-x 1 matrillo matrillo 1443832 Jul 14 01:26 libtree-sitter-typescript.so
Done building shared libraries.
[test_runner_lib] Setting LD_LIBRARY_PATH to include: /home/matrillo/apps/scopemux/build/tree-sitter-libs
DEBUG: prepare_clean_build_dir received build_dir='/home/matrillo/apps/scopemux/build-interfile'
[test_runner_lib] Creating build directory: '/home/matrillo/apps/scopemux/build-interfile'
[run_interfile_tests.sh] Configuring CMake in build directory: /home/matrillo/apps/scopemux/build-interfile
[run_interfile_tests.sh] Running interfile resolution test suite
[test_runner_lib] Building Symbol Table Tests in /home/matrillo/apps/scopemux/build-interfile...
[test_runner_lib] Successfully built Symbol Table Tests
[test_runner_lib] Checking for test executable: /home/matrillo/apps/scopemux/build-interfile/core/tests/symbol_table_tests
[test_runner_lib] Running Symbol Table Tests: /home/matrillo/apps/scopemux/build-interfile/core/tests/symbol_table_tests
[test_runner_lib] Test output from Symbol Table Tests:
[Symbol Table Tests] [====] Synthesis: Tested: 1 | Passing: 1 | Failing: 0 | Crashing: 0 
[1;32m PASS: Symbol Table Tests (All tests passed)[0m
[test_runner_lib] Building Project Context Tests in /home/matrillo/apps/scopemux/build-interfile...
 ERROR: Failed to build test target 'Project Context Tests'.
Build log output:
make: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[1]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[2]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 45%] Built target parser_core_obj
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 52%] Built target tree_sitter_core
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 59%] Built target tree_sitter_c
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 66%] Built target tree_sitter_cpp
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 72%] Built target tree_sitter_python
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 79%] Built target tree_sitter_javascript
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 86%] Built target tree_sitter_typescript
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 87%] Built target parser_core
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 91%] Built target test_utilities
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[ 98%] Built target context_engine
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
make[3]: Entering directory '/home/matrillo/apps/scopemux/build-interfile'
[ 98%] Building C object core/tests/CMakeFiles/project_context_tests.dir/project_context/project_context_tests.c.o
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:65:6: warning: no previous prototype for ‘setup_project’ [-Wmissing-prototypes]
   65 | void setup_project(void) {
      |      ^~~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:115:6: warning: no previous prototype for ‘teardown_project’ [-Wmissing-prototypes]
  115 | void teardown_project(void) {
      |      ^~~~~~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c: In function ‘project_context_delegation_dependency_management_impl’:
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:208:74: warning: passing argument 3 of ‘project_context_get_dependencies’ from incompatible pointer type [-Wincompatible-pointer-types]
  208 |   size_t num_deps = project_context_get_dependencies(project, main_path, &deps);
      |                                                                          ^~~~~
      |                                                                          |
      |                                                                          char ***
In file included from /home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:20:
/home/matrillo/apps/scopemux/core/include/scopemux/project_context.h:264:55: note: expected ‘const char ***’ but argument is of type ‘char ***’
  264 |                                         const char ***out_dependencies);
      |                                         ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c: In function ‘project_context_delegation_interfile_symbols_impl’:
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:246:19: error: too few arguments to function ‘ast_node_new’
  246 |   ASTNode *ast1 = ast_node_new(NODE_ROOT, NULL);
      |                   ^~~~~~~~~~~~
In file included from /home/matrillo/apps/scopemux/core/include/scopemux/parser.h:23,
                 from /home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:19:
/home/matrillo/apps/scopemux/core/include/scopemux/ast.h:131:10: note: declared here
  131 | ASTNode *ast_node_new(ASTNodeType type, char *name, ASTStringSource name_source);
      |          ^~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:248:20: error: too few arguments to function ‘ast_node_new’
  248 |   ASTNode *func1 = ast_node_new(NODE_FUNCTION, "func1");
      |                    ^~~~~~~~~~~~
In file included from /home/matrillo/apps/scopemux/core/include/scopemux/parser.h:23,
                 from /home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:19:
/home/matrillo/apps/scopemux/core/include/scopemux/ast.h:131:10: note: declared here
  131 | ASTNode *ast_node_new(ASTNodeType type, char *name, ASTStringSource name_source);
      |          ^~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:252:19: error: too few arguments to function ‘ast_node_new’
  252 |   ASTNode *ast2 = ast_node_new(NODE_ROOT, NULL);
      |                   ^~~~~~~~~~~~
In file included from /home/matrillo/apps/scopemux/core/include/scopemux/parser.h:23,
                 from /home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:19:
/home/matrillo/apps/scopemux/core/include/scopemux/ast.h:131:10: note: declared here
  131 | ASTNode *ast_node_new(ASTNodeType type, char *name, ASTStringSource name_source);
      |          ^~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:254:20: error: too few arguments to function ‘ast_node_new’
  254 |   ASTNode *func2 = ast_node_new(NODE_FUNCTION, "func2");
      |                    ^~~~~~~~~~~~
In file included from /home/matrillo/apps/scopemux/core/include/scopemux/parser.h:23,
                 from /home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:19:
/home/matrillo/apps/scopemux/core/include/scopemux/ast.h:131:10: note: declared here
  131 | ASTNode *ast_node_new(ASTNodeType type, char *name, ASTStringSource name_source);
      |          ^~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:266:18: warning: initialization of ‘Symbol *’ from incompatible pointer type ‘SymbolEntry *’ [-Wincompatible-pointer-types]
  266 |   Symbol *sym1 = symbol_table_lookup(symbols, "func1");
      |                  ^~~~~~~~~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:267:18: warning: initialization of ‘Symbol *’ from incompatible pointer type ‘SymbolEntry *’ [-Wincompatible-pointer-types]
  267 |   Symbol *sym2 = symbol_table_lookup(symbols, "func2");
      |                  ^~~~~~~~~~~~~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c: In function ‘setup_project’:
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:102:41: warning: ‘/file1.c’ directive output may be truncated writing 8 bytes into a region of size between 1 and 512 [-Wformat-truncation=]
  102 |   snprintf(abspath, sizeof(abspath), "%s/file1.c", test_project_abspath);
      |                                         ^~~~~~~~
/home/matrillo/apps/scopemux/core/tests/project_context/project_context_tests.c:102:3: note: ‘snprintf’ output between 9 and 520 bytes into a destination of size 512
  102 |   snprintf(abspath, sizeof(abspath), "%s/file1.c", test_project_abspath);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
make[3]: *** [core/tests/CMakeFiles/project_context_tests.dir/build.make:79: core/tests/CMakeFiles/project_context_tests.dir/project_context/project_context_tests.c.o] Error 1
make[3]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
make[2]: *** [CMakeFiles/Makefile2:1130: core/tests/CMakeFiles/project_context_tests.dir/all] Error 2
make[2]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
make[1]: *** [CMakeFiles/Makefile2:1137: core/tests/CMakeFiles/project_context_tests.dir/rule] Error 2
make[1]: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
make: *** [Makefile:468: project_context_tests] Error 2
make: Leaving directory '/home/matrillo/apps/scopemux/build-interfile'
[test_runner_lib] Checking for test executable: /home/matrillo/apps/scopemux/build-interfile/core/tests/project_context_tests
 FAIL: Project Context Tests. Executable not found: /home/matrillo/apps/scopemux/build-interfile/core/tests/project_context_tests
[test_runner_lib] Searching for the missing executable...
[run_interfile_tests.sh] Running integrated cross-module tests

===== INTERFILE TEST SUMMARY =====
Total test suites run: 0
❌❌ 1 TEST SUITES FAILED ❌❌
Please check the output above for detailed error messages
[test_runner_lib] Cleaning up temporary files...
[test_runner_lib] Done.
