[test_runner_lib] Shared libraries missing, running scripts/build_shared_libs.sh...
Building shared libraries in /home/matrillo/apps/scopemux/build/tree-sitter-libs
Converting static libraries to shared libraries...
Created shared libraries:
-rwxrwxr-x 1 matrillo matrillo 3566904 Jul  5 20:45 libtree-sitter-cpp.so
-rwxrwxr-x 1 matrillo matrillo  627536 Jul  5 20:45 libtree-sitter-c.so
-rwxrwxr-x 1 matrillo matrillo  386944 Jul  5 20:45 libtree-sitter-javascript.so
-rwxrwxr-x 1 matrillo matrillo  484368 Jul  5 20:45 libtree-sitter-python.so
-rwxrwxr-x 1 matrillo matrillo  237264 Jul  5 20:45 libtree-sitter.so
-rwxrwxr-x 1 matrillo matrillo 1443832 Jul  5 20:45 libtree-sitter-typescript.so
Done building shared libraries.
[test_runner_lib] Setting LD_LIBRARY_PATH to include: /home/matrillo/apps/scopemux/build/tree-sitter-libs
DEBUG: prepare_clean_build_dir received build_dir='/home/matrillo/apps/scopemux/build-c'
[test_runner_lib] Creating build directory: '/home/matrillo/apps/scopemux/build-c'
DEBUG: setup_cmake_config received project_root_dir='/home/matrillo/apps/scopemux', build_dir='/home/matrillo/apps/scopemux/build-c'
[test_runner_lib] Running CMake configuration: cmake -S /home/matrillo/apps/scopemux -B /home/matrillo/apps/scopemux/build-c -G 'Unix Makefiles'
-- The C compiler identification is GNU 11.4.0
-- The CXX compiler identification is GNU 11.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Python: /home/matrillo/.pyenv/shims/python3.10 (found suitable version "3.10.12", required range is "3.10...3.11") found components: Interpreter Development Development.Module Development.Embed
-- pybind11 v3.0.0 
-- Performing Test HAS_FLTO
-- Performing Test HAS_FLTO - Success
-- Python include path from sysconfig: /usr/include/python3.10
-- Python include dirs: /usr/include/python3.10
-- Python libraries: /usr/lib/x86_64-linux-gnu/libpython3.10.so
-- Configuration summary:
--   C Compiler: GNU 11.4.0
--   Python: 3.10.12
--   Installation prefix: /usr/local
--   Memory debugging: OFF
--   Valgrind compatibility: OFF
-- Python include path from sysconfig: /usr/include/python3.10
-- Python include dirs: /usr/include/python3.10
-- Python libraries: /usr/lib/x86_64-linux-gnu/libpython3.10.so
-- Found PkgConfig: /usr/bin/pkg-config (found version "0.29.2")
-- Checking for module 'criterion'
--   Found criterion, version 2.4.0
-- Configured Scopemux Bindings C Tests with Criterion.
-- Copied example files and expected JSON to build directory for validation.
-- Configuration summary:
--   C Compiler: GNU 11.4.0
--   C++ Compiler: GNU 11.4.0
--   Tree-sitter core libraries built to: /home/matrillo/apps/scopemux/build-c/tree-sitter-libs
-- Configuring done (9.2s)
-- Generating done (0.2s)
-- Build files have been written to: /home/matrillo/apps/scopemux/build-c
[run_c_tests.sh] Building C example AST tests executable...
[test_runner_lib] Building C Example AST Tests in /home/matrillo/apps/scopemux/build-c...
[test_runner_lib] Successfully built C Example AST Tests
[test_runner_lib] Processing c/basic_syntax tests...
[test_runner_lib] Found 2 test files
[test_runner_lib] Testing: core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Starting test for core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Starting test for core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Converting relative path to absolute: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Converting relative path to absolute: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c.expected.json
[c Example Test: hello_world.c] TESTING: Reading source file /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c...
[c Example Test: hello_world.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: fopen failed for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c: No such file or directory
[c Example Test: hello_world.c] TESTING: Attempting alternative path /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/hello_world.c...
[c Example Test: hello_world.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Successfully read from alternative path /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/hello_world.c
[c Example Test: hello_world.c] TESTING: Successfully read source file (length: 393 bytes)
[c Example Test: hello_world.c] TESTING: Initializing parser context...
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Registered language-specific compliance callbacks
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Successfully initialized parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] TESTING: Parser context initialized, calling parse_string...
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Clearing parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] AST node cleanup summary: freed 0 of 0 nodes, errors: NO
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Successfully cleared parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] ===== PARSER_PARSE_STRING: STARTING PARSER INITIALIZATION =====
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Language type: 1 (1=C, 2=CPP, 3=Python, 4=JavaScript, 5=TypeScript)
[c Example Test: hello_world.c] 
[c Example Test: hello_world.c] ***** PARSER INITIALIZATION DIAGNOSTIC *****
[c Example Test: hello_world.c] Test executable pid: 910709
[c Example Test: hello_world.c] Loading Tree-sitter shared libraries from: /home/matrillo/apps/scopemux/build/tree-sitter-libs
[c Example Test: hello_world.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-c.so successfully
[c Example Test: hello_world.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-cpp.so successfully
[c Example Test: hello_world.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-python.so successfully
[c Example Test: hello_world.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-javascript.so successfully
[c Example Test: hello_world.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-typescript.so successfully
[c Example Test: hello_world.c] SYMBOL RESOLUTION CHECK:
[c Example Test: hello_world.c]   dlsym(tree_sitter_c): 0x7f6ffe8f48aa
[c Example Test: hello_world.c]   dlsym(tree_sitter_cpp): 0x7f6ffe59b495
[c Example Test: hello_world.c]   dlsym(tree_sitter_python): 0x7f6ffe512b92
[c Example Test: hello_world.c]   dlsym(tree_sitter_javascript): 0x7f6ffe4b4b28
[c Example Test: hello_world.c]   dlsym(tree_sitter_typescript): 0x7f6ffe354abe
[c Example Test: hello_world.c] 
[c Example Test: hello_world.c] ===== TS_INIT_PARSER: LANGUAGE FUNCTION DIAGNOSTICS =====
[c Example Test: hello_world.c] Language type: 1 (1=C, 2=CPP, 3=Python, 4=JavaScript, 5=TypeScript)
[c Example Test: hello_world.c]   tree_sitter_c function address: 0x558be0f69142
[c Example Test: hello_world.c]   tree_sitter_cpp function address: 0x558be0f7f42f
[c Example Test: hello_world.c]   tree_sitter_python function address: 0x558be0f851ef
[c Example Test: hello_world.c]   tree_sitter_javascript function address: 0x558be0f8cf12
[c Example Test: hello_world.c]   tree_sitter_typescript function address: 0x558be0f942d7
[c Example Test: hello_world.c] 
[c Example Test: hello_world.c] ==== TREE-SITTER LANGUAGE FUNCTION DIAGNOSTICS ====
[c Example Test: hello_world.c] Function pointers from language libraries:
[c Example Test: hello_world.c]   C function pointer:          0x558be0f69142
[c Example Test: hello_world.c]   C++ function pointer:        0x558be0f7f42f
[c Example Test: hello_world.c]   Python function pointer:     0x558be0f851ef
[c Example Test: hello_world.c]   JavaScript function pointer: 0x558be0f8cf12
[c Example Test: hello_world.c]   TypeScript function pointer: 0x558be0f942d7
[c Example Test: hello_world.c] 
[c Example Test: hello_world.c] Attempting to call appropriate language function...
[c Example Test: hello_world.c]   Using tree_sitter_c()
[c Example Test: hello_world.c]   tree_sitter_c() returned: 0x558be157e240
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Successfully retrieved language object for language type 1, address: 0x558be157e240
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Calling ts_parser_set_language with parser=0x558bfebc4c70, language=0x558be157e240
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] ts_parser_set_language succeeded
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Verification: ts_parser_language() returned: 0x558be157e240
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Language verification successful - pointer match confirmed
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] TS_INIT_PARSER_IMPL: PARSER INITIALIZATION COMPLETE
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] ===================================================================
[c Example Test: hello_world.c] DEBUG: Using queries directory: /home/matrillo/apps/scopemux/queries/c
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Found docstrings.scm at: /home/matrillo/apps/scopemux/queries/c/docstrings.scm
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Loading hardcoded node type mappings (source of truth)...
[c Example Test: hello_world.c] [scopemux] INFO: Using hardcoded node type mappings (ignoring path: NULL)
[c Example Test: hello_world.c] [scopemux] Loaded 14 hardcoded node type mappings
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] Initialized query manager with queries directory: /home/matrillo/apps/scopemux/queries/c
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] ts_init_parser returned: TRUE
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] After initialization: Tree-sitter parser=0x558bfebc4c70, language=0x558be157e240
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [ERROR] ===== PARSER_PARSE_STRING: PARSER INITIALIZATION COMPLETED =====
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] AST query processing complete: 2 successful, 5 failed, total AST nodes: 21
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node ROOT
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node identifier
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node parameter_list
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node compound_statement
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node primitive_type
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node identifier
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node parameter_list
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [WARNING] Language-specific schema compliance callback for language 1 failed on node compound_statement
[c Example Test: hello_world.c] TESTING: Source code parsed successfully
[c Example Test: hello_world.c] TESTING: Getting AST root node...
[c Example Test: hello_world.c] TESTING: AST root node exists (type: 1, num_children: 0)
[c Example Test: hello_world.c] TESTING: Loading expected JSON from /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c.expected.json...
[c Example Test: hello_world.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c.expected.json
[c Example Test: hello_world.c] TESTING: fopen failed for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c.expected.json: No such file or directory
[c Example Test: hello_world.c] TESTING: Trying JSON path based on source file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/hello_world.c.expected.json
[c Example Test: hello_world.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/hello_world.c.expected.json
[c Example Test: hello_world.c] TESTING: Successfully loaded expected JSON
[c Example Test: hello_world.c] TESTING: Extracting AST field from expected JSON...
[c Example Test: hello_world.c] TESTING: Found 'ast' field in expected JSON
[c Example Test: hello_world.c] TESTING: Starting AST validation against expected JSON...
[c Example Test: hello_world.c] TESTING: Validating AST against expected JSON...
[c Example Test: hello_world.c] [ERR ] hello_world.c: 'signature' field is not a string
[c Example Test: hello_world.c] [ERR ] hello_world.c: 'docstring' field is not a string
[c Example Test: hello_world.c] TESTING: JSON Validation result: FAIL (bypassed for now)
[c Example Test: hello_world.c] TESTING: Overall test result: PASS
[c Example Test: hello_world.c] TESTING: Freeing resources...
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Freeing parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Clearing parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] AST node cleanup summary: freed 2 of 2 nodes, errors: NO
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Successfully cleared parser context at 0x558bfeb368d0
[c Example Test: hello_world.c] [scopemux] Loading hardcoded node type mappings:
[c Example Test: hello_world.c]   functions -> NODE_FUNCTION
[c Example Test: hello_world.c]   classes -> NODE_CLASS
[c Example Test: hello_world.c]   methods -> NODE_METHOD
[c Example Test: hello_world.c]   variables -> NODE_VARIABLE
[c Example Test: hello_world.c]   modules -> NODE_MODULE
[c Example Test: hello_world.c]   structs -> NODE_STRUCT
[c Example Test: hello_world.c]   unions -> NODE_UNION
[c Example Test: hello_world.c]   enums -> NODE_ENUM
[c Example Test: hello_world.c]   typedefs -> NODE_TYPEDEF
[c Example Test: hello_world.c]   includes -> NODE_INCLUDE
[c Example Test: hello_world.c]   macros -> NODE_MACRO
[c Example Test: hello_world.c]   docstrings -> NODE_DOCSTRING
[c Example Test: hello_world.c]   interfaces -> NODE_INTERFACE
[c Example Test: hello_world.c]   template_specializations -> NODE_TEMPLATE_SPECIALIZATION
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] ENTER: manager=0x558bfebc9d30
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing queries_dir at 0x558bfeb7c190
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries array at 0x558bfebc9dd0 (language_count=6)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 0 at 0x558bfebc9e50 (query_count=0)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebc9e50
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 1 at 0x558bfebc9f60 (query_count=7)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfebcf660: 'classes'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebcebe0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfebcfd10: 'structs'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebd1da0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfebcebc0: 'functions'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfecde590
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfecd76f0: 'methods'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebdabf0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfecd03c0: 'variables'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebf53a0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfecd5400: 'imports'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebffaa0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query name at 0x558bfec009b0: 'docstrings'
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x558bfebfd1c0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebc9f60
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 2 at 0x558bfebca070 (query_count=0)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebca070
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 3 at 0x558bfebca180 (query_count=0)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebca180
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 4 at 0x558bfebca290 (query_count=0)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebca290
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 5 at 0x558bfebca3a0 (query_count=0)
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x558bfebca3a0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing cached_queries array at 0x558bfebc9dd0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing languages array at 0x558bfebc9d70
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing language_types array at 0x558bfebc9db0
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing query_counts array at 0x558bfebc9e10
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] Freeing manager struct at 0x558bfebc9d30
[c Example Test: hello_world.c] [QUERY_MANAGER_FREE] EXIT: Query manager cleanup complete
[c Example Test: hello_world.c] [2025-07-05 20:46:06] [INFO] Parser context cleanup complete
[c Example Test: hello_world.c] TESTING: Reporting final validation result...
[c Example Test: hello_world.c] TESTING: Test completed successfully for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/hello_world.c
 FAIL: c Example Test: hello_world.c (3/)
[test_runner_lib] Testing: core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Starting test for core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Starting test for core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Converting relative path to absolute: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Converting relative path to absolute: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json
[c Example Test: variables_loops_conditions.c] TESTING: Reading source file /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c...
[c Example Test: variables_loops_conditions.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: fopen failed for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c: No such file or directory
[c Example Test: variables_loops_conditions.c] TESTING: Attempting alternative path /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/variables_loops_conditions.c...
[c Example Test: variables_loops_conditions.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Successfully read from alternative path /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/variables_loops_conditions.c
[c Example Test: variables_loops_conditions.c] TESTING: Successfully read source file (length: 1573 bytes)
[c Example Test: variables_loops_conditions.c] TESTING: Initializing parser context...
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [INFO] Registered language-specific compliance callbacks
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [INFO] Successfully initialized parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] TESTING: Parser context initialized, calling parse_string...
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [INFO] Clearing parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [INFO] AST node cleanup summary: freed 0 of 0 nodes, errors: NO
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [INFO] Successfully cleared parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] ===== PARSER_PARSE_STRING: STARTING PARSER INITIALIZATION =====
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Language type: 1 (1=C, 2=CPP, 3=Python, 4=JavaScript, 5=TypeScript)
[c Example Test: variables_loops_conditions.c] 
[c Example Test: variables_loops_conditions.c] ***** PARSER INITIALIZATION DIAGNOSTIC *****
[c Example Test: variables_loops_conditions.c] Test executable pid: 910732
[c Example Test: variables_loops_conditions.c] Loading Tree-sitter shared libraries from: /home/matrillo/apps/scopemux/build/tree-sitter-libs
[c Example Test: variables_loops_conditions.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-c.so successfully
[c Example Test: variables_loops_conditions.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-cpp.so successfully
[c Example Test: variables_loops_conditions.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-python.so successfully
[c Example Test: variables_loops_conditions.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-javascript.so successfully
[c Example Test: variables_loops_conditions.c]   Loaded /home/matrillo/apps/scopemux/build/tree-sitter-libs/libtree-sitter-typescript.so successfully
[c Example Test: variables_loops_conditions.c] SYMBOL RESOLUTION CHECK:
[c Example Test: variables_loops_conditions.c]   dlsym(tree_sitter_c): 0x7fac31bc48aa
[c Example Test: variables_loops_conditions.c]   dlsym(tree_sitter_cpp): 0x7fac3186b495
[c Example Test: variables_loops_conditions.c]   dlsym(tree_sitter_python): 0x7fac317e2b92
[c Example Test: variables_loops_conditions.c]   dlsym(tree_sitter_javascript): 0x7fac31784b28
[c Example Test: variables_loops_conditions.c]   dlsym(tree_sitter_typescript): 0x7fac31624abe
[c Example Test: variables_loops_conditions.c] 
[c Example Test: variables_loops_conditions.c] ===== TS_INIT_PARSER: LANGUAGE FUNCTION DIAGNOSTICS =====
[c Example Test: variables_loops_conditions.c] Language type: 1 (1=C, 2=CPP, 3=Python, 4=JavaScript, 5=TypeScript)
[c Example Test: variables_loops_conditions.c]   tree_sitter_c function address: 0x56153583f142
[c Example Test: variables_loops_conditions.c]   tree_sitter_cpp function address: 0x56153585542f
[c Example Test: variables_loops_conditions.c]   tree_sitter_python function address: 0x56153585b1ef
[c Example Test: variables_loops_conditions.c]   tree_sitter_javascript function address: 0x561535862f12
[c Example Test: variables_loops_conditions.c]   tree_sitter_typescript function address: 0x56153586a2d7
[c Example Test: variables_loops_conditions.c] 
[c Example Test: variables_loops_conditions.c] ==== TREE-SITTER LANGUAGE FUNCTION DIAGNOSTICS ====
[c Example Test: variables_loops_conditions.c] Function pointers from language libraries:
[c Example Test: variables_loops_conditions.c]   C function pointer:          0x56153583f142
[c Example Test: variables_loops_conditions.c]   C++ function pointer:        0x56153585542f
[c Example Test: variables_loops_conditions.c]   Python function pointer:     0x56153585b1ef
[c Example Test: variables_loops_conditions.c]   JavaScript function pointer: 0x561535862f12
[c Example Test: variables_loops_conditions.c]   TypeScript function pointer: 0x56153586a2d7
[c Example Test: variables_loops_conditions.c] 
[c Example Test: variables_loops_conditions.c] Attempting to call appropriate language function...
[c Example Test: variables_loops_conditions.c]   Using tree_sitter_c()
[c Example Test: variables_loops_conditions.c]   tree_sitter_c() returned: 0x561535e54240
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Successfully retrieved language object for language type 1, address: 0x561535e54240
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Calling ts_parser_set_language with parser=0x561552cffc70, language=0x561535e54240
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] ts_parser_set_language succeeded
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Verification: ts_parser_language() returned: 0x561535e54240
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Language verification successful - pointer match confirmed
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] TS_INIT_PARSER_IMPL: PARSER INITIALIZATION COMPLETE
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] ===================================================================
[c Example Test: variables_loops_conditions.c] DEBUG: Using queries directory: /home/matrillo/apps/scopemux/queries/c
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Found docstrings.scm at: /home/matrillo/apps/scopemux/queries/c/docstrings.scm
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Loading hardcoded node type mappings (source of truth)...
[c Example Test: variables_loops_conditions.c] [scopemux] INFO: Using hardcoded node type mappings (ignoring path: NULL)
[c Example Test: variables_loops_conditions.c] [scopemux] Loaded 14 hardcoded node type mappings
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] Initialized query manager with queries directory: /home/matrillo/apps/scopemux/queries/c
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] ts_init_parser returned: TRUE
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] After initialization: Tree-sitter parser=0x561552cffc70, language=0x561535e54240
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:06] [ERROR] ===== PARSER_PARSE_STRING: PARSER INITIALIZATION COMPLETED =====
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] AST query processing complete: 3 successful, 4 failed, total AST nodes: 108
[c Example Test: variables_loops_conditions.c] TESTING: Source code parsed successfully
[c Example Test: variables_loops_conditions.c] TESTING: Getting AST root node...
[c Example Test: variables_loops_conditions.c] TESTING: AST root node exists (type: 1, num_children: 13)
[c Example Test: variables_loops_conditions.c] TESTING: Loading expected JSON from /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json...
[c Example Test: variables_loops_conditions.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json
[c Example Test: variables_loops_conditions.c] TESTING: fopen failed for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json: No such file or directory
[c Example Test: variables_loops_conditions.c] TESTING: Trying JSON path based on source file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json
[c Example Test: variables_loops_conditions.c] TESTING: Attempting to open file: /home/matrillo/apps/scopemux/core/tests/examples/c/basic_syntax/variables_loops_conditions.c.expected.json
[c Example Test: variables_loops_conditions.c] TESTING: Successfully loaded expected JSON
[c Example Test: variables_loops_conditions.c] TESTING: Extracting AST field from expected JSON...
[c Example Test: variables_loops_conditions.c] TESTING: Found 'ast' field in expected JSON
[c Example Test: variables_loops_conditions.c] TESTING: Starting AST validation against expected JSON...
[c Example Test: variables_loops_conditions.c] TESTING: Validating AST against expected JSON...
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c: Name mismatch - expected 'variables_loops_conditions.c', got ''
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c: Qualified name mismatch - expected 'variables_loops_conditions.c', got ''
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[0]: Type mismatch - expected 'DOCSTRING', got 'COMMENT'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[3]: Type mismatch - expected 'COMMENT', got 'DOCSTRING'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[4]: Type mismatch - expected 'DOCSTRING', got 'COMMENT'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[11]: Type mismatch - expected 'COMMENT', got 'FUNCTION'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[11]: Name mismatch - expected '', got 'main'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.[11]: Qualified name mismatch - expected '', got 'main'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.main[12]: Type mismatch - expected 'FUNCTION', got 'COMMENT'
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.main[12]: Name mismatch - expected 'main', got ''
[c Example Test: variables_loops_conditions.c] [ERR ] variables_loops_conditions.c.main[12]: Qualified name mismatch - expected 'main', got ''
[c Example Test: variables_loops_conditions.c] TESTING: JSON Validation result: FAIL (bypassed for now)
[c Example Test: variables_loops_conditions.c] TESTING: Overall test result: PASS
[c Example Test: variables_loops_conditions.c] TESTING: Freeing resources...
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] Freeing parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] Clearing parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] AST node cleanup summary: freed 2 of 2 nodes, errors: NO
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] Successfully cleared parser context at 0x561552c718d0
[c Example Test: variables_loops_conditions.c] [scopemux] Loading hardcoded node type mappings:
[c Example Test: variables_loops_conditions.c]   functions -> NODE_FUNCTION
[c Example Test: variables_loops_conditions.c]   classes -> NODE_CLASS
[c Example Test: variables_loops_conditions.c]   methods -> NODE_METHOD
[c Example Test: variables_loops_conditions.c]   variables -> NODE_VARIABLE
[c Example Test: variables_loops_conditions.c]   modules -> NODE_MODULE
[c Example Test: variables_loops_conditions.c]   structs -> NODE_STRUCT
[c Example Test: variables_loops_conditions.c]   unions -> NODE_UNION
[c Example Test: variables_loops_conditions.c]   enums -> NODE_ENUM
[c Example Test: variables_loops_conditions.c]   typedefs -> NODE_TYPEDEF
[c Example Test: variables_loops_conditions.c]   includes -> NODE_INCLUDE
[c Example Test: variables_loops_conditions.c]   macros -> NODE_MACRO
[c Example Test: variables_loops_conditions.c]   docstrings -> NODE_DOCSTRING
[c Example Test: variables_loops_conditions.c]   interfaces -> NODE_INTERFACE
[c Example Test: variables_loops_conditions.c]   template_specializations -> NODE_TEMPLATE_SPECIALIZATION
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] ENTER: manager=0x561552d05660
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing queries_dir at 0x561552cb7190
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries array at 0x561552d05700 (language_count=6)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 0 at 0x561552d05780 (query_count=0)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d05780
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 1 at 0x561552d05890 (query_count=7)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552d219d0: 'classes'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552d1eac0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552d24680: 'structs'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552d24090
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552e2fc50: 'functions'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552e309e0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552e30700: 'methods'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552e39a00
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552e2a7e0: 'variables'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552e37da0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552e58af0: 'imports'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552e5fb00
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query name at 0x561552e5a290: 'docstrings'
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing TSQuery at 0x561552e219a0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d05890
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 2 at 0x561552d059a0 (query_count=0)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d059a0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 3 at 0x561552d05ab0 (query_count=0)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d05ab0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 4 at 0x561552d05bc0 (query_count=0)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d05bc0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached queries for language 5 at 0x561552d05cd0 (query_count=0)
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing QueryCacheEntry array at 0x561552d05cd0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing cached_queries array at 0x561552d05700
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing languages array at 0x561552d056a0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing language_types array at 0x561552d056e0
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing query_counts array at 0x561552d05740
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] Freeing manager struct at 0x561552d05660
[c Example Test: variables_loops_conditions.c] [QUERY_MANAGER_FREE] EXIT: Query manager cleanup complete
[c Example Test: variables_loops_conditions.c] [2025-07-05 20:46:07] [INFO] Parser context cleanup complete
[c Example Test: variables_loops_conditions.c] TESTING: Reporting final validation result...
[c Example Test: variables_loops_conditions.c] TESTING: Test completed successfully for /home/matrillo/apps/scopemux/core/tests/core/tests/examples/c/basic_syntax/variables_loops_conditions.c
 FAIL: c Example Test: variables_loops_conditions.c (3/)
[test_runner_lib] 2 tests failed in directory: core/tests/examples/c/basic_syntax
[1;31m FAIL: c/basic_syntax (0/2 tests passed, 2 problems in directory)[0m

=======================================================================
                      TEST EXECUTION SUMMARY                          
=======================================================================
Total execution time: 23 seconds

Test Suite                               | Result  
------------------------------------------|----------
[1;31mc/basic_syntax                           |  FAIL   [0m

 TESTS FAILED: 1
[test_runner_lib] Cleaning up temporary files...
[test_runner_lib] Done.
